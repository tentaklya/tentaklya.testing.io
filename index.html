<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Гарант эксперт. Личный кабинет.</title>

    <!-- Bootstrap -->
    <!-- <link href="css/bootstrap-4.3.1.css" rel="stylesheet">-->
    <link href="css/style.css" rel="stylesheet" type="text/css">
	<link href="jQueryAssets/jquery.ui.core.min.css" rel="stylesheet" type="text/css">
    <link href="jQueryAssets/jquery.ui.theme.min.css" rel="stylesheet" type="text/css">
    <link href="jQueryAssets/jquery.ui.button.min.css" rel="stylesheet" type="text/css">
	<link href="jquery-mobile/jquery.mobile.structure-1.3.0.min.css" rel="stylesheet" type="text/css">
	<script src="jquery-mobile/jquery-1.11.1.min.js"></script>
	<script src="jquery-mobile/jquery.mobile-1.3.0.min.js"></script>
	<script src="jQueryAssets/jquery.ui-1.10.4.button.min.js"></script>
	<style>    
		#passwordinput {
			width: 300px; /* Ширина поля в пикселах */
			background-color: #FFFFFF; /* Цвет фона */	
			color: #000000; /* Цвет текста */
   		} 
		
    </style>
  </head>
  <body>
    <div class="container">
       <div class="row justify-content-center align-self-center">
          <div class="col-12">
				  <p style="text-align: center;">
					  <img src="images/ge_logo.gif" width="100" height="185" alt=""/> 
				  </p> 	  
				  <h1 align="center">
					  <LABEL>ЛИЧНЫЙ КАБИНЕТ</LABEL>
				  </h1>
		  </div>
       </div>
       <div class="row justify-content-center align-self-center">
          <div class="col-12" align="center">
				<input  autofocus type="password" name="passwordinput" id="passwordinput" value="" /> 
				<p align="center"><button id="Login_btn">ВОЙТИ</button></p>
		  </div>
       </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
    <script src="js/jquery-3.3.1.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed --> 
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap-4.3.1.js"></script>
	<script>

		var Login_btn = document.getElementById("Login_btn")
			Login_btn.onclick = handleButtonClick;

		function handleButtonClick() {
			var textInput = document.getElementById("passwordinput"),
			    Token = textInput.value,
				url = "http://5.23.102.40:8080/service/hs/GWL/CTT?Token="+Token,
				XHR = ("onload" in new XMLHttpRequest()) ? XMLHttpRequest : XDomainRequest,
				xhr = new XHR();
			
			 
			xhr.open('GET', url, true);
			xhr.responseType = 'json';
			xhr.withCredentials = true;
					
		    xhr.onreadystatechange = function() {
			//alert(xhr.readyState);
			if (xhr.readyState == 4 && xhr.status == 200) {//
			  const data = JSON.parse(xhr.responseText); 
				alert(data.UserCode);
			  
			  }
		    };	
			xhr.send();
		}

	</script>  
	  
  </body>
</html>
